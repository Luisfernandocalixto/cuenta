<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Inicio de sesión y creación de cuenta">
    <!-- <meta property="og:url" content="https://galeria-de-images.netlify.app"> -->
    <meta property="og:image" content="/image.svg">
    <meta property="og:description" content="Mostrando login de inicio y creación de cuenta">

    <title>Crear Cuenta</title>
    <link rel="shortcut icon" href="/image.svg" type="image/x-icon">
    <link rel="stylesheet" href="/materialize.css">
    <link rel="stylesheet" href="/main.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


</head>

<body>
    <a href="/" class="btn btn-cl">
        Regresar</a>
    <section id="section-sig" class="bg-text">

        <div class="row">
            <div class="center">
                <h4>
                    Crear cuenta
                </h4>
            </div>
            <div class="center">
                <form class="col s12" method="post" action="/signup">
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="nombre" type="text" name="name" class="validate white-text" required autofocus>
                            <label for="email">Nombre</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="email" type="email" name="email" class="validate white-text" required>
                            <label for="email">Email</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="password" type="password" name="password" class="validate white-text" required>
                            <span id="visible"
                               ><img src="/visible.webp" alt="as"></span>
                            <label for="password">Contraseña</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="confirm_password" type="password" name="confirm_password"
                                class="validate white-text" required>
                            <label for="password">Confirme Contraseña</label>
                        </div>
                    </div>
                    <button class="btn btn-block btn-c" type="submit">Crear cuenta</button>
                </form>
            </div>
        </div>


    </section>
    <hr class="hr-section">
    <div class="center">
        <div class="white-text">
            Ya tiene cuenta, inicie sesión a continuación
        </div>
        <a href="/signin" class="">Iniciar sesión</a>
    </div>

    <h1 id="error-message"></h1>
    <script src="/materialize.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {

            // Capture the message of error of the URL
            const urlParamsSaved = window.location.search;
            let urlParamsConfig = urlParamsSaved.replace("signup?", "")
            let urlParams = new URLSearchParams(urlParamsConfig);
            const errorMessage = urlParams.get('error');
            if (errorMessage) {
                M.toast({ html: `<div class="toast-p">${decodeURI(errorMessage)}</div>` })
            }


            let visible = document.getElementById('visible');
            
            let input = document.getElementById('password');
            let inputConfirm = document.getElementById('confirm_password');
            visible.addEventListener('click', function () {
                if (input.type === 'password') {
                    input.type = "text";
                    inputConfirm.type = "text";
                    visible.innerHTML = `<img src="/invisible.webp" alt="invisible">`
                }
                else {
                    input.type = "password";
                    inputConfirm.type = "password";
                    visible.innerHTML = `<img src="/visible.webp" alt="visible">`

                }
            })

        })
    </script>
</body>

</html>